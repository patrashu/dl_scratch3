## Chapter 2

### 메모리 관리

파이썬 메모리 관리는 두 가지 방식으로 진행됨.
- Reference count를 세어 값이 0일때 삭제하는 방식. (참조 카운트)
- 세대를 기준으로 쓸모 없어진 객체를 회수하는 방식. (Garbage Collection)

### 참조 카운트 방식

- 간단하면서 빠르기에 파이썬 메모리 관리의 기본임.
- 대입 연산자를 사용할 때, 함수에 인수로 전달할 때, 컨테이너 타입 객체에 추가할 때 참조 카운트가 증가함.
- 순환 참조 시에 참조 카운트 방식으로는 메모리 관리 문제를 해결할 수 없음.

```python
class obj:
    pass

def f(x):
    print(x)

a = obj()   ## 변수에 대입 = 참조 카운트 1
f(a)        ## 함수에 전달 = 참조 카운트 2
            ## 함수 빠져나오면 참조 카운트 1
a = None    ## 참조 카운트 0 => 제거
```

### 가비지 컬렉션 방식

- 세대(generation)를 기준으로 객체를 회수함.
- python에서 weakref를 활용하면 참조는 하되, reference count를 증가시키지 않음.


### 필요없는 미분값 삭제

메모리 사용량 개선을 위해 아래와 같이 개선을 하고자 함.
- backpropagation 할 때 불필요한 미분 결과를 보관하지 않고 즉시 삭제.
- backpropagation이 필요없는 경우용 모드를 제공.

딥러닝에서 학습을 진행할 때는 backpropagation이 필요하지만, 단순히 추론할 때는 필요가 없음.

